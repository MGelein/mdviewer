<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Markdown Viewer</title>
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/custom.css">
</head>

<body class="container">
    <div class="row">
        <div id="editDiv" style='display:none;'>
            <span class='pointer' onclick='search()' id='searchButton'>&#x1f50d;&nbsp;Search</span>
            <span class='pointer' onclick='edit()' id='editButton'>&#x270f;&nbsp;Edit</span>
            <span class='pointer' onclick='newFile()' id='newButton'>&#x1f5ce;&nbsp;New</span>
            <span class='pointer' onclick='edit()' id='saveButton' style='display:none;'>&#x1f4be;&nbsp;Save</span>
            <span class='pointer' onclick='loadFile()' id='cancelButton' style='display:none;'>&#x274c;&nbsp;Cancel</span>
            <span class='pointer' onclick='removeFile()' id='removeButton'>&#x1f5d1;&nbsp;Delete</span>

        </div>
        <div id="contentHolder" class="col-xs-12 box">
            <div id='content'>
                <h1>Welcome to Markdown Viewer</h1>
                <p>To get started with Markdown Viewer, you just have to open a Markdown file. Click the button below
                    to choose a file on your local computer.
                </p>
                <button onclick='handleLoadButton();' class="btn btn-primary">Load File</button>
                <h2>Other Options</h2>
                <p>In time there should be multiple things you can do from this screen, for now the only real option
                    is to open the most recent file without any selection dialog from here in one click. Convenient!
                </p>
                <button id='mostRecentButton' onclick='handleMostRecent()' class="btn btn-primary">Open Most Recent</button>
            </div>
            <div id='editor' style='display:none;' class='editMode'>
                <textarea id='editContents'></textarea>
            </div>
        </div>
    </div>

    <div id='linksFromDiv' class='box'>
        <h5>Links From:</h5>
        <ul id='linksFrom'>

        </ul>
    </div>

    <div id='linksToDiv' class='box'>
        <h5>Links To:</h5>
        <ul id='linksTo'>

        </ul>
    </div>

    <div id="searchBlackout" style="display:none;">
        <div id="searchPopup">
            <input id="searchInput" class="form-control" type="text" placeholder="Type your query here...(ESC to close)" />
            <div id="searchResults">

            </div>
        </div>
    </div>

    <div id="newBlackout" style="display:none;">
        <div id="newPopup">
            <label for='newInput'>Filename:</label>
            <input id="newInput" class="form-control" type="text" placeholder="Type your filename without extension...(ESC to close)" />
            <span id='newFeedback'></span>
            <br>
            <label for='newSelect'>Template (Optional)</label>
            <select class='form-control' id='newSelect'>
            </select>
            <br>
            <button onclick='createFile()' class='btn btn-success'>OK</button>
            <button onclick='closeNewFile()' class='btn btn-warning'>Cancel</button>
        </div>
    </div>

    <div id="removeBlackout" style="display:none;">
        <div id="removePopup" class='text-center'>
            <h3 class>Do you really want to remove this file</h3>
            <p><span id='removeFile'></span></p>
            <button onclick='doRemove()' class='btn btn-danger'>Yes</button>
            <button onclick='cancelRemove()' class='btn btn-warning'>No</button>
        </div>
    </div>

    <!-- Insert this line above script imports -->
    <script>if (typeof module === 'object') { window.module = module; module = undefined; }</script>
    <script src="js/lib/jquery-3.2.1.min.js"></script>
    <script src="js/lib/marked.min.js"></script>
    <script src="js/dialog.js"></script>
    <script src="js/ini.js"></script>
    <script src="js/viewer.js"></script>
    <!-- Insert this line after script imports -->
    <script>if (window.module) module = window.module;</script>
</body>

</html>